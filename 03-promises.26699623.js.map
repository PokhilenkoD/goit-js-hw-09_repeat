{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEA,SAASC,EAAcC,EAAKC,GAC1B,OAAO,IAAIC,SAAQ,SAACC,EAASC,GACXC,YAAW,WACHC,KAAKC,SAAW,GAEpCJ,EAAQ,CAAEH,MAAKC,SAEfG,EAAO,CAAEJ,MAAKC,Q,GAEfA,E,IAIP,IAAMO,EAAOC,SAASC,cAAc,YACpCF,EAAKG,iBAAiB,UAGtB,SAAkBC,GAChBA,EAAEC,iBAEF,IADA,IAAgCC,EAelC,SAAyBF,GACvB,IAAMG,EAAM,GACNC,EAAeJ,EAAEK,OAAOC,SAE9B,IAAK,IAAMC,KAAOH,EAChB,GAAIA,EAAaI,eAAeD,IAC1BA,EAAIE,OAAS,EAAG,CAClB,IAAMC,EAAON,EAAaG,GAAKG,KACzBC,EAAeC,OAAOR,EAAaG,GAAKM,OAC9CV,EAAIO,GAAQC,C,CAIlB,OAAOR,C,CA5ByBW,CAAgBd,GAAxCe,EAAwBb,EAAxBa,OAAQC,EAAgBd,EAAhBc,MAAOC,EAASf,EAATe,KACdC,EAAI,EAAGC,EAAI,EAAGD,GAAKH,EAAQG,GAAK,EAAGC,GAAKF,EAC/C9B,EAAc+B,EAAGF,EAAQG,GACtBC,MAAK,SAAAC,G,IAAGjC,EAAGiC,EAAHjC,IAAKC,EAAIgC,EAAJhC,KACZJ,EAAAqC,OAAOC,QAAQ,uBAAmCC,OAAVpC,EAAI,QAAWoC,OAALnC,EAAK,M,IAExDoC,OAAM,SAAAJ,G,IAAGjC,EAAGiC,EAAHjC,IAAKC,EAAIgC,EAAJhC,KACbJ,EAAAqC,OAAOI,QAAQ,sBAAkCF,OAAVpC,EAAI,QAAWoC,OAALnC,EAAK,M,IAI5DO,EAAK+B,O","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nfunction createPromise(pos, time) {\n  return new Promise((resolve, reject) => {\n    setintervalId = setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n      if (shouldResolve) {\n        resolve({ pos, time });\n      } else {\n        reject({ pos, time });\n      }\n    }, time);\n  });\n}\n\nconst form = document.querySelector('.js-form');\nform.addEventListener('submit', onSubmit);\nlet setintervalId = 0;\n\nfunction onSubmit(e) {\n  e.preventDefault();\n  const { amount, delay, step } = formValueObject(e);\n  for (let i = 1, j = 0; i <= amount; i += 1, j += step) {\n    createPromise(i, delay + j)\n      .then(({ pos, time }) => {\n        Notify.success(`✅ Fulfilled promise ${pos} in ${time}ms`);\n      })\n      .catch(({ pos, time }) => {\n        Notify.failure(`❌ Rejected promise ${pos} in ${time}ms`);\n      });\n  }\n\n  form.reset();\n}\n\n// Обрабатывает форму и возвращает объект значений формы\nfunction formValueObject(e) {\n  const obj = {};\n  const objectValues = e.target.elements;\n\n  for (const key in objectValues) {\n    if (objectValues.hasOwnProperty(key)) {\n      if (key.length > 1) {\n        const name = objectValues[key].name;\n        const elementValue = Number(objectValues[key].value);\n        obj[name] = elementValue;\n      }\n    }\n  }\n  return obj;\n}\n"],"names":["$h6c0i","parcelRequire","$ce04d3a99e08e73b$var$createPromise","pos","time","Promise","resolve","reject","setTimeout","Math","random","$ce04d3a99e08e73b$var$form","document","querySelector","addEventListener","e","preventDefault","ref","obj","objectValues","target","elements","key","hasOwnProperty","length","name","elementValue","Number","value","$ce04d3a99e08e73b$var$formValueObject","amount","delay","step","i","j","then","param","Notify","success","concat","catch","failure","reset"],"version":3,"file":"03-promises.26699623.js.map"}